<!DOCTYPE html> <html lang="en"> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title>ACT4E Python library | </title> <meta name="author" content="You Wu"> <meta name="description" content="Implementation of a Python library to build and manipulate different basic algebraic structures taught in the class applied category theory for engineers."> <meta name="keywords" content="jekyll, jekyll-theme, academic-website, portfolio-website"> <link rel="stylesheet" href="/assets/css/bootstrap.min.css?a4b3f509e79c54a512b890d73235ef04"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous"> <link defer rel="stylesheet" href="https://unpkg.com/bootstrap-table@1.22.1/dist/bootstrap-table.min.css"> <link rel="stylesheet" href="/assets/css/academicons.min.css?f0b7046b84e425c55f3463ac249818f5"> <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons"> <link rel="stylesheet" href="/assets/css/jekyll-pygments-themes-github.css?19f3075a2d19613090fe9e16b564e1fe" media="" id="highlight_theme_light"> <link rel="shortcut icon" href="/assets/img/favicon.ico?5e7b374fe50186ca9d1f4a9d6722c92c"> <link rel="stylesheet" href="/assets/css/main.css?d41d8cd98f00b204e9800998ecf8427e"> <link rel="canonical" href="https://youwuyou.github.io/projects/project_act4e/"> <link rel="stylesheet" href="/assets/css/jekyll-pygments-themes-native.css?e74e74bf055e5729d44a7d031a5ca6a5" media="none" id="highlight_theme_dark"> <script src="/assets/js/theme.js?96d6b3e1c3604aca8b6134c7afdd5db6"></script> <script src="/assets/js/dark_mode.js?9b17307bb950ffa2e34be0227f53558f"></script> </head> <body class="fixed-top-nav sticky-bottom-footer"> <header> <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top"> <div class="container"> <a class="navbar-brand title font-weight-lighter" href="/"></a> <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar top-bar"></span> <span class="icon-bar middle-bar"></span> <span class="icon-bar bottom-bar"></span> </button> <div class="collapse navbar-collapse text-right" id="navbarNav"> <ul class="navbar-nav ml-auto flex-nowrap"> <li class="nav-item "> <a class="nav-link" href="/">HOME</a> </li> <li class="nav-item "> <a class="nav-link" href="/blog/">BLOG</a> </li> <li class="nav-item "> <a class="nav-link" href="/projects/">WALK &amp; WORK</a> </li> <li class="nav-item "> <a class="nav-link" href="/activities/">ACTIVITIES</a> </li> <li class="nav-item "> <a class="nav-link" href="/about/">ABOUT</a> </li> <li class="nav-item dropdown "> <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">ðŸ’»</a> <div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdown"> <a class="dropdown-item" href="/cv/">CV</a> <div class="dropdown-divider"></div> <a class="dropdown-item" href="/repositories/">REPOSITORIES</a> <div class="dropdown-divider"></div> <a class="dropdown-item" href="/news/">NEWS</a> </div> </li> <li class="toggle-container"> <button id="light-toggle" title="Change theme"> <i class="fa-solid fa-moon"></i> <i class="fa-solid fa-sun"></i> </button> </li> </ul> </div> </div> </nav> <progress id="progress" value="0"> <div class="progress-container"> <span class="progress-bar"></span> </div> </progress> </header> <div class="container mt-5"> <div class="post"> <header class="post-header"> <h1 class="post-title">ACT4E Python library</h1> <p class="post-description">Implementation of a Python library to build and manipulate different basic algebraic structures taught in the class applied category theory for engineers.</p> </header> <article> <hr> <h2 id="solving-real-life-problems">Solving real-life problems</h2> <p>by recognizing the algebraic structures for a familiar engineering domain, one can utilize these compositionality structures to achieve either more elegance or efficiency</p> <h3 id="application-currency-optimization-problem">Application: Currency optimization problem</h3> <p><img src="../../assets/img/projects/act4e/currencyOpt.png" alt="set-up of the problem"></p> <p>In this set-up we were asked to implement an algorithm which outputs the optimal path from the source currency to the target currency such that the resulting amount of money after the currency exchange is maximized.</p> <p>In our approach, we define the currency category <strong>Curr</strong> which enables us to model currencies as objects of a category, and morphisms will describe exchanging between those currencies.</p> <p>We can formally define this category as followed:</p> <p><img src="../../assets/img/projects/act4e/currCat.png" alt="formal definition"></p> <p>After recognizing the algebraic structure in this modelling problem, the rest of the implementation is then trivial by utilizing the implemented Python library. The implementation for <a href="https://github.com/youwuyou/act4e-spring2022-exercises-youwuyou/blob/alphubel-prod/src/act4e_solutions/semicategory_concrete.py" rel="external nofollow noopener" target="_blank"><code class="language-plaintext highlighter-rouge">semicategory_concrete.py</code></a> is illustrated below.</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="n">typing</span> <span class="kn">import</span> <span class="n">TypedDict</span><span class="p">,</span> <span class="n">Any</span><span class="p">,</span> <span class="n">TypeVar</span><span class="p">,</span> <span class="n">List</span>
<span class="kn">import</span> <span class="n">act4e_interfaces</span> <span class="k">as</span> <span class="n">I</span>
<span class="kn">import</span> <span class="n">networkx</span> <span class="k">as</span> <span class="n">nx</span>
<span class="kn">import</span> <span class="n">math</span>
<span class="kn">from</span> <span class="n">numpy</span> <span class="kn">import</span> <span class="n">identity</span>
<span class="kn">from</span> <span class="n">act4e_solutions.semicat_repr_helper</span> <span class="kn">import</span> <span class="n">ToolSet</span><span class="p">,</span> <span class="n">EQ</span>

<span class="c1"># TypeVar
</span><span class="n">MD</span> <span class="o">=</span> <span class="nc">TypeVar</span><span class="p">(</span><span class="sh">"</span><span class="s">MD</span><span class="sh">"</span><span class="p">)</span>

<span class="k">class</span> <span class="nc">CurrencyOptimization</span><span class="p">(</span><span class="n">I</span><span class="p">.</span><span class="n">CurrencyOptimization</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">compute_optimal_conversion</span><span class="p">(</span><span class="n">self</span><span class="p">,</span>
                                   <span class="n">available</span><span class="p">:</span> <span class="n">I</span><span class="p">.</span><span class="n">SemiCategory</span><span class="p">[</span><span class="n">I</span><span class="p">.</span><span class="n">RichObject</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span>
                                   <span class="n">I</span><span class="p">.</span><span class="n">RichMorphism</span><span class="p">[</span><span class="n">I</span><span class="p">.</span><span class="n">CurrencyExchanger</span><span class="p">]],</span>
                                   <span class="n">source</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
                                   <span class="n">amount</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
                                   <span class="n">target</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">I</span><span class="p">.</span><span class="n">OptimalSolution</span><span class="p">:</span>
        
        <span class="n">final_amount</span><span class="p">:</span> <span class="nb">float</span>


        <span class="c1"># STEP 1: return all morphisms from 'source' to 'target'
</span>        <span class="c1"># def hom(self, ob1: Ob, ob2: Ob, uptolevel: Optional[int] = None) -&gt; I.EnumerableSet[Mor]:
</span>        <span class="n">rich_obj1</span> <span class="o">=</span> <span class="n">I</span><span class="p">.</span><span class="nc">RichObject</span><span class="p">(</span><span class="n">source</span><span class="p">,</span> <span class="n">source</span><span class="p">)</span>
        <span class="n">rich_obj2</span> <span class="o">=</span> <span class="n">I</span><span class="p">.</span><span class="nc">RichObject</span><span class="p">(</span><span class="n">target</span><span class="p">,</span> <span class="n">target</span><span class="p">)</span>

        <span class="n">homset_src_dst</span> <span class="o">=</span> <span class="n">available</span><span class="p">.</span><span class="nf">hom</span><span class="p">(</span><span class="n">rich_obj1</span><span class="p">,</span> <span class="n">rich_obj2</span><span class="p">,</span> <span class="n">uptolevel</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="n">hom_elements</span> <span class="o">=</span> <span class="nf">list</span><span class="p">(</span><span class="n">homset_src_dst</span><span class="p">.</span><span class="nf">elements</span><span class="p">())</span>

        <span class="n">path_labels</span> <span class="o">=</span> <span class="sh">""</span>
        <span class="n">final_amount</span> <span class="o">=</span> <span class="mf">0.</span>

        <span class="k">for</span> <span class="n">mor</span> <span class="ow">in</span> <span class="n">hom_elements</span><span class="p">:</span>
            <span class="n">outcome</span> <span class="o">=</span> <span class="n">self</span><span class="p">.</span><span class="nf">exchanged</span><span class="p">(</span><span class="n">amount</span><span class="p">,</span> <span class="n">mor</span><span class="p">.</span><span class="n">mordata</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">outcome</span> <span class="o">&gt;</span> <span class="n">final_amount</span><span class="p">:</span>
                <span class="n">path_labels</span> <span class="o">=</span> <span class="n">mor</span><span class="p">.</span><span class="n">label</span>
                <span class="n">final_amount</span> <span class="o">=</span> <span class="n">outcome</span>
        <span class="k">return</span> <span class="n">I</span><span class="p">.</span><span class="nc">OptimalSolution</span><span class="p">([</span><span class="n">path_labels</span><span class="p">],</span> <span class="n">final_amount</span><span class="p">)</span>


    <span class="k">def</span> <span class="nf">exchanged</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">x</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">curr</span><span class="p">:</span> <span class="n">I</span><span class="p">.</span><span class="n">CurrencyExchanger</span><span class="p">)</span><span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
        <span class="sh">"""</span><span class="s">Given a CurrencyExchanger
           Returns the exchanged value
        </span><span class="sh">"""</span>
        <span class="n">fx</span> <span class="o">=</span> <span class="n">x</span> <span class="o">*</span> <span class="n">curr</span><span class="p">.</span><span class="n">rate</span> <span class="o">-</span> <span class="n">curr</span><span class="p">.</span><span class="n">commission</span>
        <span class="k">return</span> <span class="n">fx</span>
</code></pre></div></div> <p><br></p> <h2 id="visualization-of-some-algebraic-structures">Visualization of some algebraic structures</h2> <p>For sake of the simplicity, we integrated the networkx library for solving certain problems. We then added a graphical representation layer which gives us a simple-to-use interface for visualizing many algebraic structures.</p> <p><img src="../../assets/img/projects/act4e/poset_large_shellpos.png" alt="solving poset closure problem"></p> </article> <h2>References</h2> <div class="publications"> <h2 class="bibliography">2022</h2> <ol class="bibliography"><li> <div class="row"> <div class="col-sm-2 preview"> <figure> <picture> <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/publication_preview/act4e_logo-480.webp"></source> <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/publication_preview/act4e_logo-800.webp"></source> <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/publication_preview/act4e_logo-1400.webp"></source> <img src="/assets/img/publication_preview/act4e_logo.png" class="preview z-depth-1 rounded" width="auto" height="auto" alt="act4e_logo.png" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> <div id="censi2022applied" class="col-sm-8"> <div class="title">Applied compositional thinking for engineers</div> <div class="author"> Andrea Censi,Â Jonathan Lorand,Â andÂ Gioele Zardini</div> <div class="periodical"> 2022 </div> <div class="periodical"> </div> <div class="links"> </div> </div> </div> </li></ol> </div> </div> </div> <footer class="sticky-bottom mt-5"> <div class="container"> Â© Copyright 2024 You Wu. Last updated: January 11, 2024. </div> </footer> <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script> <script src="/assets/js/bootstrap.bundle.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/imagesloaded@4/imagesloaded.pkgd.min.js"></script> <script defer src="/assets/js/masonry.js" type="text/javascript"></script> <script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.0.8/dist/medium-zoom.min.js" integrity="sha256-7PhEpEWEW0XXQ0k6kQrPKwuoIomz8R8IYyuU1Qew4P8=" crossorigin="anonymous"></script> <script defer src="/assets/js/zoom.js?7b30caa5023af4af8408a472dc4e1ebb"></script> <script defer src="https://unpkg.com/bootstrap-table@1.22.1/dist/bootstrap-table.min.js"></script> <script src="/assets/js/no_defer.js?d633890033921b33e0ceb13d22340a9c"></script> <script defer src="/assets/js/common.js?acdb9690d7641b2f8d40529018c71a01"></script> <script defer src="/assets/js/copy_code.js?07b8786bab9b4abe90d10e61f7d12ff7" type="text/javascript"></script> <script async src="https://d1bxh8uas1mnw7.cloudfront.net/assets/embed.js"></script> <script async src="https://badge.dimensions.ai/badge.js"></script> <script type="text/javascript">window.MathJax={tex:{tags:"ams"}};</script> <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.0/es5/tex-mml-chtml.js"></script> <script defer src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script> <script type="text/javascript">function progressBarSetup(){"max"in document.createElement("progress")?(initializeProgressElement(),$(document).on("scroll",function(){progressBar.attr({value:getCurrentScrollPosition()})}),$(window).on("resize",initializeProgressElement)):(resizeProgressBar(),$(document).on("scroll",resizeProgressBar),$(window).on("resize",resizeProgressBar))}function getCurrentScrollPosition(){return $(window).scrollTop()}function initializeProgressElement(){let e=$("#navbar").outerHeight(!0);$("body").css({"padding-top":e}),$("progress-container").css({"padding-top":e}),progressBar.css({top:e}),progressBar.attr({max:getDistanceToScroll(),value:getCurrentScrollPosition()})}function getDistanceToScroll(){return $(document).height()-$(window).height()}function resizeProgressBar(){progressBar.css({width:getWidthPercentage()+"%"})}function getWidthPercentage(){return getCurrentScrollPosition()/getDistanceToScroll()*100}const progressBar=$("#progress");window.onload=function(){setTimeout(progressBarSetup,50)};</script> </body> </html>